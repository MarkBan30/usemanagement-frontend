{"ast":null,"code":"import axios from \"axios\";\nimport BaseAPI from \"apis/BaseAPI\";\nexport default class UserAPI extends BaseAPI {\n  constructor() {\n    super(...arguments);\n\n    this.add_user = async user => {\n      let axiosConfig = {\n        url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/user`,\n        method: 'post',\n        headers: { ...this.authHeaders,\n          \"Content-Type\": \"application/json\"\n        },\n        data: user\n      };\n\n      try {\n        let {\n          status,\n          data\n        } = await axios(axiosConfig);\n        if (status >= 200 && status < 300) return {\n          status: 'success',\n          msg: data.msg\n        };else {\n          return {\n            status: 'fail',\n            msg: data.msg\n          };\n        }\n      } catch (error) {\n        console.log(error);\n        return {\n          status: 'fail',\n          msg: error.response.data.msg ? error.response.data.msg : 'Fail to add user'\n        };\n      }\n    };\n\n    this.delete_user = async uid => {\n      let axiosConfig = {\n        url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/user/${uid}`,\n        method: 'delete',\n        headers: { ...this.authHeaders\n        }\n      };\n\n      try {\n        let {\n          status,\n          data\n        } = await axios(axiosConfig);\n        if (status >= 200 && status < 300) return {\n          status: 'success',\n          msg: data.msg\n        };else {\n          return {\n            status: 'fail',\n            msg: data.msg\n          };\n        }\n      } catch (error) {\n        console.log(error);\n        return {\n          status: 'fail',\n          msg: error.response.data.msg ? error.response.data.msg : 'Fail to delete user'\n        };\n      }\n    };\n\n    this.load_users = async () => {\n      let axiosConfig = {\n        url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/users`,\n        method: 'get',\n        headers: { ...this.authHeaders\n        }\n      };\n\n      try {\n        let {\n          status,\n          data\n        } = await axios(axiosConfig);\n\n        if (status >= 200 && status < 300) {\n          return data;\n        } else {\n          console.log(\"Fail to load users from server\");\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n        return false;\n      }\n    };\n  }\n\n}","map":{"version":3,"names":["axios","BaseAPI","UserAPI","add_user","user","axiosConfig","url","process","env","REACT_APP_ZTGG_BACKEND_API_ENDPOINT","method","headers","authHeaders","data","status","msg","error","console","log","response","delete_user","uid","load_users"],"sources":["/Users/markban/ztgg-uidemo/uidemo/src/apis/UserAPI.jsx"],"sourcesContent":["import axios from \"axios\";\nimport BaseAPI from \"apis/BaseAPI\";\n\nexport default class UserAPI extends BaseAPI {\n    add_user = async (user) => {\n        let axiosConfig = {\n            url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/user`,\n            method: 'post',\n            headers: { ...this.authHeaders, \"Content-Type\": \"application/json\" },\n            data: user\n        }\n        try {\n            let { status, data } = await axios(axiosConfig);\n            if (status >= 200 && status < 300)\n                return { status: 'success', msg: data.msg };\n            else {\n                return { status: 'fail', msg: data.msg };\n            }\n        }\n        catch (error) {\n            console.log(error);\n            return { status: 'fail', msg: (error.response.data.msg ? error.response.data.msg : 'Fail to add user') };\n        }\n    }\n\n    delete_user = async (uid) => {\n        let axiosConfig = {\n            url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/user/${uid}`,\n            method: 'delete',\n            headers: { ...this.authHeaders }\n        }\n        try {\n            let { status, data } = await axios(axiosConfig);\n            if (status >= 200 && status < 300)\n                return { status: 'success', msg: data.msg };\n            else {\n                return { status: 'fail', msg: data.msg };\n            }\n        }\n        catch (error) {\n            console.log(error);\n            return { status: 'fail', msg: (error.response.data.msg ? error.response.data.msg : 'Fail to delete user') };\n        }\n    }\n\n    load_users = async () => {\n        let axiosConfig = {\n            url: `${process.env.REACT_APP_ZTGG_BACKEND_API_ENDPOINT}/users`,\n            method: 'get',\n            headers: { ...this.authHeaders }\n        }\n\n        try {\n            let { status, data } = await axios(axiosConfig);\n            if (status >= 200 && status < 300) {\n                return data\n            } else {\n                console.log(\"Fail to load users from server\");\n                return false;\n            }\n        }\n        catch (error) {\n            console.log(error);\n            return false;\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}